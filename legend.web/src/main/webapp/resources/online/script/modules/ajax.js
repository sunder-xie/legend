/*-- 淘汽云修 2016-03-09 04:48:56 --*/
define(function(require,exports,module){var a=require("./dialog"),b=!1,c=function(c){var d=$.Deferred();return $.ajax({type:c.type,dataType:c.dataType,cache:c.cache,url:c.url,async:c.async,contentType:c.contentType,data:c.data,beforeSend:function(){c.loadShow&&(c.beforeSend?c.beforeSend():(b&&a.close(b),b=a.load(c.loadText)))},success:function(e){c.loadShow&&b&&a.close(b),d.resolve(e),"function"==typeof c.success&&c.success(e,a)},error:function(){c.loadShow&&b&&a.close(b),d.reject(),"function"==typeof c.failded&&c.failded()}}),d.promise()},d=function(a,b){return $.extend({type:b,url:"",data:{},dataType:"json",async:!0,cache:!1,contentType:"application/x-www-form-urlencoded",loadShow:!0,loadText:"正在加载，请稍候...",success:function(){},failded:function(){}},a)};exports.post=function(a){return c(d(a,"post"))},exports.get=function(a){return c(d(a,"get"))}});